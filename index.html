<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Demo Trading Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#0f172a;color:white;text-align:center}
header{background:#020617;padding:14px;font-weight:bold}
.balance{padding:10px;font-size:18px;color:#22c55e}
.price{font-size:36px;margin:10px}
.timer{font-size:18px;margin:5px;color:#facc15}
button{padding:12px 16px;margin:6px;border:none;border-radius:8px;font-size:15px;color:white;cursor:pointer}
.buy{background:#16a34a}
.sell{background:#dc2626}
.message{margin-top:8px;font-size:15px}
.profit{color:#22c55e}
.loss{color:#ef4444}
.history{margin-top:15px;padding:10px;background:#020617;font-size:14px}
.tradeItem{margin:4px 0}
</style>
</head>

<body>

<header>ðŸ“Š DEMO TRADING PRO</header>

<div class="balance" id="balance">Demo Balance: â‚¹10000</div>
<div class="price" id="price">â‚¹100.00</div>
<div class="timer" id="timer"></div>

<button class="buy" onclick="startTrade('BUY')">BUY</button>
<button class="sell" onclick="startTrade('SELL')">SELL</button>

<div id="message" class="message">Market Running...</div>

<div class="history">
<h3>Last Trades</h3>
<div id="tradeHistory"></div>
</div>

<script>
let balance=10000;
let price=100;
let trades=[];
let currentTrade=null;
let countdownInterval=null;

setInterval(()=>{
  price += (Math.random()-0.5)*2;
  if(price<1) price=1;
  document.getElementById("price").innerText="â‚¹"+price.toFixed(2);

  checkSL();
},1000);

function startTrade(type){
 if(currentTrade){
   document.getElementById("message").innerText="Trade already running...";
   return;
 }

 currentTrade={
   type:type,
   entry:price,
   sl: type==="BUY" ? price-1 : price+1
 };

 document.getElementById("message").innerText=type+" Entered @ â‚¹"+price.toFixed(2);
 startTimer(5);
}

function startTimer(seconds){
 let timeLeft=seconds;
 document.getElementById("timer").innerText="Time Left: "+timeLeft+"s";

 countdownInterval=setInterval(()=>{
   timeLeft--;
   document.getElementById("timer").innerText="Time Left: "+timeLeft+"s";

   if(timeLeft<=0){
     clearInterval(countdownInterval);
     closeTrade("TIME");
   }
 },1000);
}

function checkSL(){
 if(!currentTrade) return;

 if(currentTrade.type==="BUY" && price<=currentTrade.sl){
   clearInterval(countdownInterval);
   closeTrade("SL HIT");
 }

 if(currentTrade.type==="SELL" && price>=currentTrade.sl){
   clearInterval(countdownInterval);
   closeTrade("SL HIT");
 }
}

function closeTrade(reason){
 if(!currentTrade) return;

 let exit=price;
 let pnl;

 if(currentTrade.type==="BUY"){
   pnl=(exit-currentTrade.entry)*100;
 }else{
   pnl=(currentTrade.entry-exit)*100;
 }

 pnl=Math.round(pnl);
 balance+=pnl;

 let resultText=currentTrade.type+" "+(pnl>=0?"WIN +":"LOSS ")+"â‚¹"+Math.abs(pnl)+" ("+reason+")";

 document.getElementById("message").innerText=resultText;
 document.getElementById("message").className="message "+(pnl>=0?"profit":"loss");

 trades.unshift(resultText);
 if(trades.length>5) trades.pop();
 updateHistory();
 updateBalance();

 document.getElementById("timer").innerText="";
 currentTrade=null;
}

function updateBalance(){
 document.getElementById("balance").innerText="Demo Balance: â‚¹"+balance;
}

function updateHistory(){
 let html="";
 trades.forEach(t=>{
   html+="<div class='tradeItem'>"+t+"</div>";
 });
 document.getElementById("tradeHistory").innerHTML=html;
}
</script>

</body>
</html>
